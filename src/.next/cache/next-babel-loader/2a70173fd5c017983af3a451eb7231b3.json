{"ast":null,"code":"import { gql } from 'apollo-boost';\nimport USERS from '../queries/usersQuery';\nconst DELETE_USER = gql`\n  mutation deleteUser($email: String) {\n    deleteUser(email: $email) {\n      user {\n        email\n        name\n        password\n      }\n      error\n    }\n  }\n`;\nexport const updateCacheAfterDeleteUser = (cache, {\n  data\n}) => {\n  const existingUsers = cache.readQuery({\n    query: USERS\n  });\n  cache.writeQuery({\n    query: USERS,\n    data: {\n      users: {\n        users: existingUsers.users.users.filter(user => user.email !== data.deleteUser.user.email)\n      }\n    }\n  });\n};\nexport default DELETE_USER;","map":{"version":3,"sources":["/Users/mac/Desktop/refreshMe/frontRefreshme/src/graphql/users/mutations/deleteUserMutation.js"],"names":["gql","USERS","DELETE_USER","updateCacheAfterDeleteUser","cache","data","existingUsers","readQuery","query","writeQuery","users","filter","user","email","deleteUser"],"mappings":"AAAA,SAASA,GAAT,QAAoB,cAApB;AAEA,OAAOC,KAAP,MAAkB,uBAAlB;AAEA,MAAMC,WAAW,GAAGF,GAAI;;;;;;;;;;;CAAxB;AAaA,OAAO,MAAMG,0BAA0B,GAAG,CAACC,KAAD,EAAQ;AAAEC,EAAAA;AAAF,CAAR,KAAqB;AAC7D,QAAMC,aAAa,GAAEF,KAAK,CAACG,SAAN,CAAgB;AACnCC,IAAAA,KAAK,EAAEP;AAD4B,GAAhB,CAArB;AAGAG,EAAAA,KAAK,CAACK,UAAN,CAAiB;AACfD,IAAAA,KAAK,EAAEP,KADQ;AAEfI,IAAAA,IAAI,EAAE;AAAEK,MAAAA,KAAK,EAAE;AAAEA,QAAAA,KAAK,EAAEJ,aAAa,CAACI,KAAd,CAAoBA,KAApB,CAA0BC,MAA1B,CAAiCC,IAAI,IAAIA,IAAI,CAACC,KAAL,KAAgBR,IAAI,CAACS,UAAL,CAAgBF,IAAhB,CAAqBC,KAA9E;AAAT;AAAT;AAFS,GAAjB;AAID,CARM;AAUP,eAAeX,WAAf","sourcesContent":["import { gql } from 'apollo-boost';\n\nimport USERS from '../queries/usersQuery';\n\nconst DELETE_USER = gql`\n  mutation deleteUser($email: String) {\n    deleteUser(email: $email) {\n      user {\n        email\n        name\n        password\n      }\n      error\n    }\n  }\n`\n\nexport const updateCacheAfterDeleteUser = (cache, { data }) => {\n  const existingUsers= cache.readQuery({\n    query: USERS\n  });\n  cache.writeQuery({  \n    query: USERS,\n    data: { users: { users: existingUsers.users.users.filter(user => user.email !==  data.deleteUser.user.email) } }\n  });\n};\n\nexport default DELETE_USER;"]},"metadata":{},"sourceType":"module"}